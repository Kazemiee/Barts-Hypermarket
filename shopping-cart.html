<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <meta content="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="shopping-cart.css" >

    <!-- Latest compiled and minified CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/js/bootstrap.bundle.min.js"></script>

    <link rel="icon" href="img/Axlot.png" />
  </head>
  <body>
      <script type="text/javascript">
        let qst = 0.07;
        let gst = 0.08;
      </script>
      <header class="top-header">
        <div class="header-upper-half">
          <div class="name-slogan">
            <h1 class="shop-name">
              Bart's Hypermarket
              <span style="font-size: 8px">Rodrigo Sanchez</span>
            </h1>
            <p class="slogan">For the Earth Product Enthusiasts out there</p>
          </div>
          <div class="go-to-cart">
            <a href="shopping-cart.html">Go to Cart</a>
          </div>
        </div>
        <div class="search-bar">
          <table>
            <div class="text-div">
              <input type="text" name="search bar" size="20" />
            </div>
            <div class="search-div">
              <input type="submit" value="Search" />
            </div>
          </table>
        </div>
        <div class="header-bottom-half">
          <nav class="top-nav">
            <a href="index.html">Home</a>
            <section>
              <div class="drop-menu">
                <a href="#">Aisles</a>
                <div class="drop-content">
                  <a href="meat-aisle.html">Meat</a>
                  <a href="bread-aisle.html">Bread</a>
                  <a href="dairy-aisle.html"> Dairy</a>
                  <a href="electronic-aisle.html">Electronics</a>
                  <a href="clothing-aisle.html">Clothing</a>
                  <a href="fruit-aisle.html">Fruit</a>
                </div>
              </div>
            </section>
            <section>
              <div class="drop-menu">
                <a href="#">Popular</a>
                <div class="drop-content">
                  <a href="clothing_aisle/jeans.html">Jeans</a>
                  <a href="bread_aisle/baguette.html">Baguette</a>
                  <a href="milk.html">Milk</a>
                  <a href="axolotl.html">Axolotl</a>
                  <a href="meat-computer.html">MEAT Computer Model X</a>
                </div>
              </div>
            </section>
            <a href="#">Best Value</a>
          </nav>
        </div>
      </header>



    <div class="Cart-container">
      <div class="Header">
        <h1 style="text-align: center; margin-top: 3pc; margin-bottom: 3pc;">Shopping cart</h1>
      </div>
      <div class="row">
        <div class="col-md-9">


          <article class="shop container-sm">
            <script>
              function priceOrange(a) {
                if(a>=0){
                amount= parseInt(a);
                price = 1.49*amount;
                price = price.toFixed(2);
                document.getElementById("amount").innerHTML = "$"+price;}
                else
                  document.getElementById("amount").innerHTML = "$"+NaN;
              }
            </script>
            <div class="Cart-Items">
              <div class="image-box">
                <img
                  src="img/orange_juice.png"
                  style="height: 80px; width: 70px; padding: 5%"/>
              </div>
              <div class="about">
                <h1 class="title">Orange Juice</h1>
                <h3 class="subtitle">1L</h3>
              </div>

              <div class="counter">

              <input placeholder="1" type="number" id="orange" name="orange"
              onkeyup="priceOrange(document.getElementById('orange').value)"
                style="width: 60px; height:30px" onchange="update()" >
              </div>
              <div class="prices">
                <div class="amount"><a id="amount">$1.49</a></div>
                <div class="save"><u>Save for later</u></div>
                <div class="remove"><u>Remove</u></div>
              </div>
            </div>
          </article>

          <article class="shop container-sm">
            <script>
              function priceGrape(a) {
                if(a>=0){
                amount2= parseInt(a);
                  price = 3.49*amount2;
                  price = price.toFixed(2);
                  document.getElementById("amount2").innerHTML = "$"+price;
                }
                else {
                  document.getElementById("amount2").innerHTML = "$"+NaN;
                }

              }
            </script>

            <div class="Cart-Items">
              <div class="image-box">
                <img
                  src="img/grape_juice.jpg"
                  style="height: 80px; width: 70px; padding: 5%"
                />
              </div>
              <div class="about">
                <h1 class="title">Grape Juice</h1>
                <h3 class="subtitle">1L</h3>
              </div>
              <div class="counter">
                <input placeholder="1" type="number" id="grape" name="grape" onkeyup="priceGrape(document.getElementById('grape').value)"
                  style="width: 60px; height:30px" onchange="update()" >
              </div>
              <div class="prices">
                <div class="amount" id="amount2">$3.49</div>
                <div class="save"><u>Save for later</u></div>
                <div class="remove"><u>Remove</u></div>
              </div>
            </div>
          </article>

          <article class="shop container-sm">
            <script>
              function priceApple(a) {
                if(a>=0){
                amount3= parseInt(a);
                price = 2.99*amount3;
                price = price.toFixed(2);
                document.getElementById("amount3").innerHTML = "$"+price;}
                else {
                  document.getElementById("amount3").innerHTML = "$"+NaN;
                }
              }
            </script>
            <div class="Cart-Items">
              <div class="image-box">
                <img
                  src="img/apple_juice.png"
                  style="height: 80px; width: 70px; padding: 5%"
                />
              </div>
              <div class="about">
                <h1 class="title">Apple Juice</h1>
                <h3 class="subtitle">1L</h3>
              </div>

              <div class="counter">
                <input placeholder="1" type="number" id="apple" name="apple" onkeyup="priceApple(document.getElementById('apple').value)"
                  style="width: 60px; height:30px" onchange="update()">
              </div>
              <div class="prices">
                <div class="amount" id="amount3">$2.99</div>
                <div class="save"><u>Save for later</u></div>
                <div class="remove"><u>Remove</u></div>
              </div>
            </div>
          </article>

          <article class="shop container-sm">
            <script>
              function priceBanana(a) {
                if(a>=0){
                amount4= parseInt(a);

                price = 1.99*amount4;
                price = price.toFixed(2);
                document.getElementById("amount4").innerHTML = "$"+price;}
                else
                  document.getElementById("amount4").innerHTML = "$"+NaN;
              }
              </script>
            <div class="Cart-Items">
              <div class="image-box">
                <img
                  src="img/bananas.png"
                  style="height: 80px; width: 70px; padding-top: 10%"
                />
              </div>
              <div class="about">
                <h1 class="title">Bananas</h1>
                <h3 class="subtitle">100g</h3>
              </div>
              <div class="counter">
                <input placeholder="1" type="number" id="banana" name="banana" onkeyup="priceBanana(document.getElementById('banana').value)"
                  style="width: 60px; height:30px" onchange="update()" >
              </div>
              <div class="prices">
                <div class="amount" id="amount4">$1.99</div>
                <div class="save"><u>Save for later</u></div>
                <div class="remove"><u>Remove</u></div>
              </div>
            </div>
          </article>


          <article class="shop container-sm">
            <script>
              function priceLettuce(a) {
                if(a>=0){
                amount5= parseInt(a);
                price = 3.27*amount5;
                price = price.toFixed(2);
                document.getElementById("amount5").innerHTML = "$"+price;}
                else
                  document.getElementById("amount5").innerHTML = "$"+NaN;
              }
              </script>

            <div class="Cart-Items">
              <div class="image-box">
                <img
                  src="img/lettuce.jpg"
                  style="height: 80px; width: 70px; padding: 5%"
                />
              </div>
              <div class="about">
                <h1 class="title">Lettuce</h1>
                <h3 class="subtitle">100g</h3>
              </div>

              <div class="counter">
                <input placeholder="1" type="number" id="lettuce" name="lettuce" onkeyup="priceLettuce(document.getElementById('lettuce').value)"
                  style="width: 60px; height:30px" onchange="update()" >
              </div>
              <div class="prices">
                <div class="amount" id="amount5">$3.27</div>
                <div class="save"><u>Save for later</u></div>
                <div class="remove"><u>Remove</u></div>
              </div>
            </div>
          </article>

          <article class="shop container-sm">
            <script>
              function priceAxolotl(a) {
                if(a>=0){
                amount6= parseInt(a);
                price = 100*amount6;
                price = price.toFixed(2);
                document.getElementById("amount6").innerHTML = "$"+price;}
                else
                document.getElementById("amount6").innerHTML = "$"+NaN;
              }
              </script>
            <div class="Cart-Items">
              <div class="image-box">
                <img
                  src="img/Axlot.png"
                  style="height: 80px; width: 70px; padding: 5%"
                />
              </div>
              <div class="about">
                <h1 class="title">Axolotl</h1>
                <h3 class="subtitle">1</h3>
              </div>

              <div class="counter">
                <input placeholder="1" type="number" id="axolotl" name="axolotl" onkeyup="priceAxolotl(document.getElementById('axolotl').value)"

                  style="width: 60px; height:30px" onchange="update()" >
              </div>
              <div class="prices">
                <div class="amount" id="amount6">$100.00</div>
                <div class="save"><u>Save for later</u></div>
                <div class="remove"><u>Remove</u></div>
              </div>
            </div>
          </article>

        </div>

        <div class="col-md-3" style="text-align: center">
          <div style="">
            <br>
            <button class="continueShopping" type="button" name="button"> Continue shopping</button>
            <br><br>
            <button class="removeAll" type="button" name="button"> Remove All</button>
          </div>



          <div class="Summary" style="padding-top: 4vh;">
            <h3 style="text-align: center; margin-bottom: 0.4pc; margin-top: 0.6pc">
              Checkout Summary
            </h3>
            <hr />
            <table style="table-layout: fixed; width: 100%; margin-top: 10px">

              <tr>
                <th>Number of items:</th>
                <td id="items">6</td>
              </tr>
              <tr>
                <th>Subtotal:</th>
                <td id="subTotal">$0</td>
              </tr>
              <tr>
                <th >QST:</th>
                <td id="qst">$0</td>
              </tr>
              <tr>
                <th >GST:</th>
                <td id="gst">$0</td>
              </tr>
              <tr>
                <th >Total price</th>
                <td id="totalPrice" >$0</td>
              </tr>

            </table>
            <script type="text/javascript">
              //Calls inner function every 5000ms
              //setInterval(function update(){
                //  console.log("logged every 5000ms");
                //}
              //}, 5000);
              function update(){
              num1 = document.getElementById("amount").innerText.match(/\d+\.+\d*/);
              num2 = document.getElementById("amount2").innerText.match(/\d+\.+\d*/);
              num3 = document.getElementById("amount3").innerText.match(/\d+\.+\d*/);
              num4 = document.getElementById("amount4").innerText.match(/\d+\.+\d*/);
              num5 = document.getElementById("amount5").innerText.match(/\d+\.+\d*/);
              num6 = document.getElementById("amount6").innerText.match(/\d+\.+\d*/);

              //Number(x) turns object x into number
              item1 = Number(num1/1.49);
              item2 = Number(num2/3.49);
              item3 = Number(num3/2.99);
              item4 = Number(num4/1.99);
              item5 = Number(num5/3.27);
              item6 = Number(num6/100);

              items = item1 + item2 + item3 + item4 + item5 +item6;
              document.getElementById("items").innerHTML = items ;
              console.log(num1, num2, num3, num4, num5, num6, item1, item2, item3, item4, item5, item6, items);
              cart = Number(num1)+ Number(num2) + Number(num3) + Number(num4) + Number(num5) + Number(num6);
              cart= Math.round(cart * 100) / 100;
              var tax1 = Math.round(cart*qst * 100) / 100;
              var tax2 = Math.round(cart*gst * 100) / 100;

              document.getElementById("subTotal").innerHTML = cart;
              document.getElementById("qst").innerHTML = tax1;
              document.getElementById("gst").innerHTML = tax2 ;

              var total = Math.round((cart+tax1+tax2)*100)/100;
              document.getElementById("totalPrice").innerHTML = total;
              }

               //alert(cart);
               document.onkeypress = function(key_dtl) {
              key_dtl = key_dtl || window.event;
             var uni_code = key_dtl.keyCode || key_dtl.which;
             console.log("logged");


             }
            </script>
          </div>
        </div>

      </div>

      <div class="d-flex justify-content-center" style="padding-bottom: 3vh;" >
        <br>
        <button class="button">Checkout</button>

      </div>
    </div>
  </body>
</html>
